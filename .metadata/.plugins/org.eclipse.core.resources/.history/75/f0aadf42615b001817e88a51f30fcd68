package com.part2.outofmemory;

public class JavaVMStackSOF {
	
	private int stackLength = 1;
	
	public void stackLeak(){
		stackLength++;
		stackLeak();//œ›»Îµ›πÈÀ¿—≠ª∑
		//java.lang.StackOverflowError
	}
	
	public static void main(String[] args) {
demo1();
		 
		 
	}

	private static void demo1() throws Throwable {
		//		VM arg: -XX:PermSize=10M -XX:MaxPermSize=10M
				JavaVMStackSOF oom = new JavaVMStackSOF();
				 try {
					oom.stackLeak();
				} catch (Throwable e) {
					System.out.println("stack length: "+oom.stackLength);
					throw e;
				}
	}

	
}
